---
title: Interne Microsoft 365-Protokollierung für Microsoft 365 Engineering
description: In diesem Artikel finden Sie eine Erläuterung der Funktionsweise der internen Protokollierung für Microsoft 365 Engineering-Teams.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 110a61c27a00380eede4d4f2303acfb025a27a1f
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/01/2021
ms.locfileid: "51497075"
---
# <a name="internal-logging-for-microsoft-365-engineering"></a><span data-ttu-id="5e8ad-103">Interne Protokollierung für Microsoft 365-Engineering</span><span class="sxs-lookup"><span data-stu-id="5e8ad-103">Internal logging for Microsoft 365 engineering</span></span>

<span data-ttu-id="5e8ad-104">Zusätzlich zu den für Kunden verfügbaren Ereignissen und Protokolldaten gibt es auch ein internes Protokolldatenerfassungssystem, das microsoft 365-Technikern bei Microsoft zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-104">In addition to the events and log data available for customers, there is also an internal log data collection system that is available to Microsoft 365 engineers at Microsoft.</span></span> <span data-ttu-id="5e8ad-105">Viele verschiedene Arten von Protokolldaten werden von Microsoft 365-Servern auf einen internen Big Data Computing-Dienst namens Cosmos hochgeladen.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-105">Many different types of log data are uploaded from Microsoft 365 servers to an internal, big data computing service called Cosmos.</span></span> <span data-ttu-id="5e8ad-106">Jedes Dienstteam lädt Überwachungsprotokolle von ihren jeweiligen Servern zur Aggregation und Analyse in die Cosmos-Datenbank hoch.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-106">Each service team uploads audit logs from their respective servers into the Cosmos database for aggregation and analysis.</span></span> <span data-ttu-id="5e8ad-107">Diese Datenübertragung erfolgt über eine FIPS 140-2-validierte TLS-Verbindung an speziell genehmigten Ports und Protokollen mithilfe eines proprietären Automatisierungstools namens Office Data Loader (ODL).</span><span class="sxs-lookup"><span data-stu-id="5e8ad-107">This data transfer occurs over a FIPS 140-2-validated TLS connection on specifically approved ports and protocols using a proprietary automation tool called the Office Data Loader (ODL).</span></span> <span data-ttu-id="5e8ad-108">Die tools used in Microsoft 365 to collect and process audit records do not allow permanent or irreversible changes to the original audit record content or time ordering.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-108">The tools used in Microsoft 365 to collect and process audit records do not allow permanent or irreversible changes to the original audit record content or time ordering.</span></span>

<span data-ttu-id="5e8ad-109">Serviceteams verwenden Cosmos als zentrales Repository, um eine Analyse der Anwendungsverwendung durchzuführen, die System- und Betriebsleistung zu messen und nach Anomalien und Mustern zu suchen, die auf Probleme oder Sicherheitsprobleme hinweisen können.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-109">Service teams use Cosmos as a centralized repository to conduct an analysis of application usage, to measure system and operational performance, and to look for abnormalities and patterns that may indicate problems or security issues.</span></span> <span data-ttu-id="5e8ad-110">Jedes Dienstteam lädt eine Basis für Protokolle in Cosmos hoch, je nachdem, was sie analysieren möchten, die häufig Folgendes umfasst:</span><span class="sxs-lookup"><span data-stu-id="5e8ad-110">Each service team uploads a baseline of logs into Cosmos, depending on what they are looking to analyze, that often include:</span></span>

- <span data-ttu-id="5e8ad-111">Ereignisprotokolle</span><span class="sxs-lookup"><span data-stu-id="5e8ad-111">Event logs</span></span>
- <span data-ttu-id="5e8ad-112">AppLocker-Protokolle</span><span class="sxs-lookup"><span data-stu-id="5e8ad-112">AppLocker logs</span></span>
- <span data-ttu-id="5e8ad-113">Leistungsdaten</span><span class="sxs-lookup"><span data-stu-id="5e8ad-113">Performance data</span></span>
- <span data-ttu-id="5e8ad-114">System Center-Daten</span><span class="sxs-lookup"><span data-stu-id="5e8ad-114">System Center data</span></span>
- <span data-ttu-id="5e8ad-115">Anrufdetaildatensätze</span><span class="sxs-lookup"><span data-stu-id="5e8ad-115">Call detail records</span></span>
- <span data-ttu-id="5e8ad-116">Qualität der Erfahrungsdaten</span><span class="sxs-lookup"><span data-stu-id="5e8ad-116">Quality of experience data</span></span>
- <span data-ttu-id="5e8ad-117">IIS-Webserverprotokolle</span><span class="sxs-lookup"><span data-stu-id="5e8ad-117">IIS Web Server logs</span></span>
- <span data-ttu-id="5e8ad-118">SQL Server Protokolle</span><span class="sxs-lookup"><span data-stu-id="5e8ad-118">SQL Server logs</span></span>
- <span data-ttu-id="5e8ad-119">Syslog-Daten</span><span class="sxs-lookup"><span data-stu-id="5e8ad-119">Syslog data</span></span>
- <span data-ttu-id="5e8ad-120">Sicherheits-Überwachungsprotokolle</span><span class="sxs-lookup"><span data-stu-id="5e8ad-120">Security audit logs</span></span>

<span data-ttu-id="5e8ad-121">Vor dem Hochladen von Daten in Cosmos verwendet die #A0 einen Scrubbingdienst, um alle Felder zu verschleiern, die Kundendaten enthalten, z. B. Mandanteninformationen und benutzeridentifizierbare Informationen, und diese Felder durch einen Hashwert zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-121">Prior to uploading data into Cosmos, the ODL application uses a scrubbing service to obfuscate any fields that contain customer data, such as tenant information and end-user identifiable information, and replace those fields with a hash value.</span></span> <span data-ttu-id="5e8ad-122">Die anonymisierten Und Hashprotokolle werden umgeschrieben und dann in Cosmos hochgeladen.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-122">The anonymized and hashed logs are rewritten and then uploaded into Cosmos.</span></span> <span data-ttu-id="5e8ad-123">Dienstteams führen Bereichsabfragen für ihre Daten in Cosmos zur Korrelation, Warnung und Berichterstellung aus.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-123">Service teams run scoped queries against their data in Cosmos for correlation, alerting, and reporting.</span></span> <span data-ttu-id="5e8ad-124">Der Zeitraum der Aufbewahrung von Überwachungsprotokolldaten in Cosmos wird von den Dienstteams bestimmt. Die meisten Überwachungsprotokolldaten werden für 90 Tage oder länger aufbewahrt, um Untersuchungen zu Sicherheitsvorfällen zu unterstützen und gesetzliche Aufbewahrungsanforderungen zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-124">The period of audit log data retention in Cosmos is determined by the service teams; most audit log data is retained for 90 days or longer to support security incident investigations and to meet regulatory retention requirements.</span></span>

<span data-ttu-id="5e8ad-125">Der Zugriff auf in Cosmos gespeicherte Microsoft 365-Daten ist auf autorisierte Mitarbeiter beschränkt.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-125">Access to Microsoft 365 data stored in Cosmos is restricted to authorized personnel.</span></span> <span data-ttu-id="5e8ad-126">Microsoft beschränkt die Verwaltung der Überwachungsfunktionalität auf die begrenzte Untermenge von Dienstteammitgliedern, die für die Überwachungsfunktionalität verantwortlich sind.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-126">Microsoft restricts the management of audit functionality to the limited subset of service team members that are responsible for audit functionality.</span></span> <span data-ttu-id="5e8ad-127">Diese Teammitglieder haben nicht die Möglichkeit, Daten aus Cosmos zu ändern oder zu löschen, und alle Änderungen an Protokollierungsmechanismen für Cosmos werden aufgezeichnet und überwacht.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-127">These team members do not have the ability to modify or delete data from Cosmos, and all changes to logging mechanisms for Cosmos are recorded and audited.</span></span>

<span data-ttu-id="5e8ad-128">Jedes Dienstteam stürzt sich zur Analyse auf seine Protokolldaten, indem es bestimmte Anwendungen zur Durchführung bestimmter Analysen autorisiert.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-128">Each service team accesses its log data for analysis by authorizing certain applications to conduct specific analysis.</span></span> <span data-ttu-id="5e8ad-129">Beispielsweise verwendet das Microsoft 365-Sicherheitsteam Daten von Cosmos über einen proprietären Ereignisprotokollparser, um Berichte zu möglichen verdächtigen Aktivitäten in der Microsoft 365-Produktionsumgebung zu korrelieren, zu warnen und zu generieren.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-129">For example, the Microsoft 365 Security team uses data from Cosmos through a proprietary event log parser to correlate, alert, and generate actionable reports on possible suspicious activity in the Microsoft 365 production environment.</span></span> <span data-ttu-id="5e8ad-130">Die Berichte aus diesen Daten werden verwendet, um Sicherheitsrisiken zu beheben und die Gesamtleistung des Diensts zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-130">The reports from this data are used to correct vulnerabilities, and to improve the overall performance of the service.</span></span> <span data-ttu-id="5e8ad-131">Wenn eine bestimmte Warnung oder ein bestimmter Bericht eine weitere Untersuchung erfordert, können Servicemitarbeiter anfordern, dass Daten wieder in den Microsoft 365-Dienst importiert werden.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-131">If a specific alert or report requires further investigation, service personnel can request that data be imported back into the Microsoft 365 service.</span></span> <span data-ttu-id="5e8ad-132">Da das spezifische Protokoll, das aus Cosmos importiert wird, verschlüsselt ist und das Dienstpersonal keinen Zugriff auf Entschlüsselungsschlüssel hat, wird das Zielprotokoll programmgesteuert über einen Entschlüsselungsdienst übergeben, der bereichsspezifische Ergebnisse an das autorisierte Dienstpersonal zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-132">Since the specific log being imported from Cosmos is in encrypted and service personnel do not have access to decryption keys, the target log is programmatically passed through a decryption service that returns scoped results to the authorized service personnel.</span></span> <span data-ttu-id="5e8ad-133">Alle in dieser Übung gefundenen Sicherheitsrisiken werden mithilfe der standardmäßigen Sicherheitsvorfallverwaltungskanäle von Microsoft gemeldet und eskaliert.</span><span class="sxs-lookup"><span data-stu-id="5e8ad-133">Any vulnerabilities found from this exercise are reported and escalated using Microsoft's standard security incident management channels.</span></span>
