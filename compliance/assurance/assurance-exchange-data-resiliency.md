---
title: Exchange Online-Datenresilienz in Microsoft 365
description: In diesem Artikel finden Sie eine Erläuterung der verschiedenen Aspekte der Datenresilienz innerhalb Exchange Online und Microsoft 365.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 8952d492c4427d5f4af64a853adaaf15303e8caf
ms.sourcegitcommit: fb379d1110a9a86c7f9bab8c484dc3f4b3dfd6f0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/23/2021
ms.locfileid: "53088634"
---
# <a name="exchange-online-data-resiliency-in-microsoft-365"></a><span data-ttu-id="b0035-103">Exchange Online Datenresilienz in Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="b0035-103">Exchange Online data resiliency in Microsoft 365</span></span>

>[!IMPORTANT]
><span data-ttu-id="b0035-104">Da wir weiterhin auf unterschiedliche Weise in die Aufbewahrung von Postfachinhalten investieren, kündigen wir die Einstellung von In-Place Haltebereichen im Exchange Admin Center (EAC) in Exchange Online an.</span><span class="sxs-lookup"><span data-stu-id="b0035-104">As we continue to invest in different ways to preserve mailbox content, we're announcing the retirement of In-Place Holds in the Exchange admin center (EAC) in Exchange Online.</span></span> <span data-ttu-id="b0035-105">Ab dem 1. Juli 2020 können Sie keine neuen In-Place-Haltebereiche erstellen.</span><span class="sxs-lookup"><span data-stu-id="b0035-105">Starting July 1, 2020, you won't be able to create new In-Place Holds.</span></span> <span data-ttu-id="b0035-106">Sie können jedoch weiterhin In-Place Haltebereiche im EAC oder mithilfe des Cmdlets **"Set-MailboxSearch"** in Exchange Online PowerShell verwalten.</span><span class="sxs-lookup"><span data-stu-id="b0035-106">But you'll still be able to manage In-Place Holds in the EAC or by using the **Set-MailboxSearch** cmdlet in Exchange Online PowerShell.</span></span> <span data-ttu-id="b0035-107">Ab dem 1. Oktober 2020 können Sie jedoch In-Place Haltebereiche nicht mehr verwalten.</span><span class="sxs-lookup"><span data-stu-id="b0035-107">However, starting October 1, 2020, you won't be able to manage In-Place Holds.</span></span> <span data-ttu-id="b0035-108">Sie können sie nur im Exchange-Verwaltungskonsole (EAC) oder mithilfe des Cmdlets **"Remove-MailboxSearch"** entfernen.</span><span class="sxs-lookup"><span data-stu-id="b0035-108">You'll only be able to remove them in the EAC or by using the **Remove-MailboxSearch** cmdlet.</span></span> <span data-ttu-id="b0035-109">Die Verwendung von In-Place Haltebereichen in Exchange Server und Exchange Hybridbereitstellungen wird weiterhin unterstützt.</span><span class="sxs-lookup"><span data-stu-id="b0035-109">Using In-Place Holds in Exchange Server and Exchange hybrid deployments will still be supported.</span></span> <span data-ttu-id="b0035-110">Weitere Informationen zum Ausmustern von In-Place Haltebereichen in Exchange Online finden Sie unter ["Ausmustern von eDiscovery-Tools der Vorversion".](/microsoft-365/compliance/legacy-ediscovery-retirement)</span><span class="sxs-lookup"><span data-stu-id="b0035-110">For more information about the retirement of In-Place Holds in Exchange Online, see [Retirement of legacy eDiscovery tools](/microsoft-365/compliance/legacy-ediscovery-retirement).</span></span>

<span data-ttu-id="b0035-111">Bei einem Compliance-Archiv bleiben sämtliche Postfachinhalte einschließlich gelöschter Elemente und Originalversionen geänderter Elemente erhalten.</span><span class="sxs-lookup"><span data-stu-id="b0035-111">An In-Place Hold preserves all mailbox content, including deleted items and original versions of modified items.</span></span> <span data-ttu-id="b0035-112">Alle diese Postfachelemente werden bei einer [Compliance-eDiscovery](/exchange/security-and-compliance/in-place-ediscovery/in-place-ediscovery)-Suche zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="b0035-112">All such mailbox items are returned in an [In-Place eDiscovery](/exchange/security-and-compliance/in-place-ediscovery/in-place-ediscovery) search.</span></span> <span data-ttu-id="b0035-113">Wenn Sie eine In-Place Aufbewahrung für das Postfach eines Benutzers festlegen, werden auch die Inhalte im entsprechenden Archivpostfach (sofern aktiviert) in die Warteschleife eingecheckt und in einer eDiscovery-Suche zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="b0035-113">When you place an In-Place Hold on a user's mailbox, the contents in the corresponding archive mailbox (if it's enabled) are also placed on hold and returned in an eDiscovery search.</span></span>

<span data-ttu-id="b0035-114">Es gibt zwei Arten von Beschädigungen, die sich auf eine Exchange Datenbank auswirken können: physische Beschädigungen, die in der Regel durch Hardwareprobleme (insbesondere Speicherhardware) verursacht werden, und logische Beschädigungen, die aufgrund anderer Faktoren auftreten.</span><span class="sxs-lookup"><span data-stu-id="b0035-114">There are two types of corruption that can affect an Exchange database: physical corruption, which is typically caused by hardware (in particular, storage hardware) problems, and logical corruption, which occurs due to other factors.</span></span> <span data-ttu-id="b0035-115">Im Allgemeinen gibt es zwei Arten von logischen Beschädigungen, die innerhalb einer Exchange Datenbank auftreten können:</span><span class="sxs-lookup"><span data-stu-id="b0035-115">Generally, there are two types of logical corruption that can occur within an Exchange database:</span></span>

- <span data-ttu-id="b0035-116">**Logische Datenbankbeschädigung:** Die Prüfsumme der Datenbankseite stimmt überein, aber die Daten auf der Seite sind logisch falsch.</span><span class="sxs-lookup"><span data-stu-id="b0035-116">**Database logical corruption** - The database page checksum matches, but the data on the page is wrong logically.</span></span> <span data-ttu-id="b0035-117">Dies kann passieren, wenn das Datenbankmodul (das Extensible Storage Engine (ESE)) versucht, eine Datenbankseite zu schreiben, und obwohl das Betriebssystem eine Erfolgsmeldung zurückgibt, werden die Daten entweder nie auf den Datenträger geschrieben oder an die falsche Stelle geschrieben.</span><span class="sxs-lookup"><span data-stu-id="b0035-117">This can occur when the database engine (the Extensible Storage Engine (ESE)) attempts to write a database page and even though the operating system returns a success message, the data is either never written to the disk or it's written to the wrong place.</span></span> <span data-ttu-id="b0035-118">Dies wird als *verlorene Leerung* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="b0035-118">This is referred to as a *lost flush*.</span></span> <span data-ttu-id="b0035-119">ESE enthält zahlreiche Features und Schutzmaßnahmen, die darauf ausgelegt sind, physische Beschädigungen einer Datenbank und andere Szenarien mit Datenverlust zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="b0035-119">ESE includes numerous features and safeguards that are designed to prevent physical corruption of a database and other data loss scenarios.</span></span> <span data-ttu-id="b0035-120">Um zu verhindern, dass verloren gegangene Daten verloren gehen, enthält ESE einen Mechanismus zur Erkennung verlorener Daten in der Datenbank sowie ein Feature (Wiederherstellung auf einer seite), um es zu korrigieren.</span><span class="sxs-lookup"><span data-stu-id="b0035-120">To prevent lost flushes from losing data, ESE includes a lost flush detection mechanism in the database along with a feature (single page restore) to correct it.</span></span>
- <span data-ttu-id="b0035-121">**Store logische Beschädigung:** Daten werden so hinzugefügt, gelöscht oder bearbeitet, dass der Benutzer dies nicht erwartet.</span><span class="sxs-lookup"><span data-stu-id="b0035-121">**Store logical corruption** - Data is added, deleted, or manipulated in a way that the user doesn't expect.</span></span> <span data-ttu-id="b0035-122">Diese Fälle werden durch Drittanbieteranwendungen verursacht.</span><span class="sxs-lookup"><span data-stu-id="b0035-122">These cases are caused by third-party applications.</span></span> <span data-ttu-id="b0035-123">Es handelt sich in der Regel um eine Beschädigung in dem Sinne, dass der Benutzer sie als Beschädigung angibt.</span><span class="sxs-lookup"><span data-stu-id="b0035-123">It's usually corruption in the sense that the user views it as corruption.</span></span> <span data-ttu-id="b0035-124">Der Exchange-Speicher betrachtet die Transaktion, die zur logischen Beschädigung geführt hat, als eine Folge gültiger MAPI-Operationen.</span><span class="sxs-lookup"><span data-stu-id="b0035-124">The Exchange store considers the transaction that produced the logical corruption to be a series of valid MAPI operations.</span></span> <span data-ttu-id="b0035-125">Die [In-Situ-Aufbewahrungsfunktionen](/exchange/security-and-compliance/create-or-remove-in-place-holds) in Exchange Online bieten Schutz vor logischer Beschädigung des Speichers (da dadurch verhindert wird, dass Inhalte von einem Benutzer oder einer Anwendung dauerhaft gelöscht werden).</span><span class="sxs-lookup"><span data-stu-id="b0035-125">The [In-Place Hold](/exchange/security-and-compliance/create-or-remove-in-place-holds) features in Exchange Online provides protection from store logical corruption (because it prevents content from being permanently deleted by a user or an application).</span></span> 

<span data-ttu-id="b0035-126">Exchange Online führt während der Protokollüberprüfung und der Protokollwiederholung mehrere Konsistenzprüfungen für replizierte Protokolldateien durch.</span><span class="sxs-lookup"><span data-stu-id="b0035-126">Exchange Online performs several consistency checks on replicated log files during both log inspection and log replay.</span></span> <span data-ttu-id="b0035-127">Diese Konsistenzprüfungen verhindern, dass physische Beschädigungen vom System repliziert werden.</span><span class="sxs-lookup"><span data-stu-id="b0035-127">These consistency checks prevent physical corruption from being replicated by the system.</span></span> <span data-ttu-id="b0035-128">Beispielsweise gibt es während der Protokollüberprüfung eine Überprüfung der physischen Integrität, die die Protokolldatei überprüft und überprüft, ob die in der Protokolldatei aufgezeichnete Prüfsumme mit der im Arbeitsspeicher generierten Prüfsumme übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="b0035-128">For example, during log inspection, there is a physical integrity check that verifies the log file and validates that the checksum recorded in the log file matches the checksum generated in memory.</span></span> <span data-ttu-id="b0035-129">Darüber hinaus wird der Protokolldateiheader untersucht, um sicherzustellen, dass die im Protokollheader aufgezeichnete Protokolldateisignatur mit der Signatur der Protokolldatei übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="b0035-129">In addition, the log file header is examined to make sure the log file signature recorded in the log header matches that of the log file.</span></span> <span data-ttu-id="b0035-130">Während der Protokollwiederholung wird die Protokolldatei einer weiteren Prüfung unterzogen.</span><span class="sxs-lookup"><span data-stu-id="b0035-130">During log replay, the log file undergoes further scrutiny.</span></span> <span data-ttu-id="b0035-131">Beispielsweise enthält der Datenbankheader auch die Protokollsignatur, die mit der Signatur der Protokolldatei verglichen wird, um sicherzustellen, dass sie übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="b0035-131">For example, the database header also contains the log signature that is compared with the log file's signature to ensure they match.</span></span> 

<span data-ttu-id="b0035-132">Der Schutz vor Beschädigung von Postfachdaten in Exchange Online wird mithilfe von Exchange nativen Datenschutz erreicht, einer Resilienzstrategie, die replikation auf Anwendungsebene über mehrere Server und mehrere Rechenzentren hinweg sowie andere Features nutzt, die daten vor Datenverlust aufgrund von Beschädigungen oder anderen Gründen schützen.</span><span class="sxs-lookup"><span data-stu-id="b0035-132">Protection against corruption of mailbox data in Exchange Online is achieved by using Exchange Native Data Protection, a resiliency strategy that leverages application-level replication across multiple servers and multiple datacenters along with other features that help protect data from being lost due to corruption or other reasons.</span></span> <span data-ttu-id="b0035-133">Diese Features umfassen systemeigene Features, die von Microsoft oder der Exchange Online Anwendung selbst verwaltet werden, z. B.:</span><span class="sxs-lookup"><span data-stu-id="b0035-133">These features include native features that are managed by Microsoft or the Exchange Online application itself, such as:</span></span>

- [<span data-ttu-id="b0035-134">Datenverfügbarkeitsgruppen</span><span class="sxs-lookup"><span data-stu-id="b0035-134">Data Availability Groups</span></span>](/exchange/back-up-email)
- <span data-ttu-id="b0035-135">Einzelbitkorrektur</span><span class="sxs-lookup"><span data-stu-id="b0035-135">Single Bit Correction</span></span> 
- <span data-ttu-id="b0035-136">Onlinedatenbanküberprüfung</span><span class="sxs-lookup"><span data-stu-id="b0035-136">Online Database Scanning</span></span> 
- <span data-ttu-id="b0035-137">Erkennung von verlorenen Leerungen</span><span class="sxs-lookup"><span data-stu-id="b0035-137">Lost Flush Detection</span></span> 
- <span data-ttu-id="b0035-138">Wiederherstellung auf einer Seite</span><span class="sxs-lookup"><span data-stu-id="b0035-138">Single Page Restore</span></span> 
- <span data-ttu-id="b0035-139">Postfachreplikationsdienst</span><span class="sxs-lookup"><span data-stu-id="b0035-139">Mailbox Replication Service</span></span> 
- <span data-ttu-id="b0035-140">Protokolldateiüberprüfungen</span><span class="sxs-lookup"><span data-stu-id="b0035-140">Log File Checks</span></span> 
- <span data-ttu-id="b0035-141">Bereitstellung im ausfallsicheren Dateisystem</span><span class="sxs-lookup"><span data-stu-id="b0035-141">Deployment on Resilient File System</span></span> 

<span data-ttu-id="b0035-142">Weitere Informationen zu den zuvor aufgeführten systemeigenen Features erhalten Sie, indem Sie die Hyperlinks auswählen. Weitere Informationen und Details zu Elementen ohne Hyperlinks finden Sie im Folgenden.</span><span class="sxs-lookup"><span data-stu-id="b0035-142">For more information on the native features listed previously, select the hyperlinks, and see the following for additional information and for details on items without hyperlinks.</span></span> <span data-ttu-id="b0035-143">Zusätzlich zu diesen systemeigenen Features enthält Exchange Online auch Datenresilienzfeatures, die Kunden verwalten können, z. B.:</span><span class="sxs-lookup"><span data-stu-id="b0035-143">In addition to these native features, Exchange Online also includes data resiliency features that customers can manage, such as:</span></span> 
- [<span data-ttu-id="b0035-144">Wiederherstellung einzelner Elemente (standardmäßig aktiviert)</span><span class="sxs-lookup"><span data-stu-id="b0035-144">Single Item Recovery (enabled by default)</span></span>](/exchange/recipients-in-exchange-online/manage-user-mailboxes/recover-deleted-messages) 
- [<span data-ttu-id="b0035-145">In-Situ-Speicher und Beweissicherungsverfahren</span><span class="sxs-lookup"><span data-stu-id="b0035-145">In-Place Hold and Litigation Hold</span></span>](/exchange/security-and-compliance/in-place-and-litigation-holds) 
- [<span data-ttu-id="b0035-146">Aufbewahrung von gelöschten Elementen und Soft-Deleted Postfächer (beide standardmäßig aktiviert)</span><span class="sxs-lookup"><span data-stu-id="b0035-146">Deleted Item Retention and Soft-Deleted Mailboxes (both enabled by default)</span></span>](/exchange/recipients-in-exchange-online/delete-or-restore-mailboxes) 

## <a name="database-availability-groups"></a><span data-ttu-id="b0035-147">Datenbankverfügbarkeitsgruppen</span><span class="sxs-lookup"><span data-stu-id="b0035-147">Database Availability Groups</span></span> 
<span data-ttu-id="b0035-148">Jede Postfachdatenbank in Microsoft 365 wird in einer [Datenbankverfügbarkeitsgruppe (Database Availability Group, DAG)](/exchange/back-up-email) gehostet und in geografisch getrennte Rechenzentren innerhalb derselben Region repliziert.</span><span class="sxs-lookup"><span data-stu-id="b0035-148">Every mailbox database in Microsoft 365 is hosted in a [database availability group (DAG)](/exchange/back-up-email) and replicated to geographically separate datacenters within the same region.</span></span> <span data-ttu-id="b0035-149">Die häufigste Konfiguration sind vier Datenbankkopien in vier Rechenzentren. Einige Regionen verfügen jedoch über weniger Rechenzentren (Datenbanken werden in drei Rechenzentren in Indien und zwei Rechenzentren in Australien und Japan repliziert).</span><span class="sxs-lookup"><span data-stu-id="b0035-149">The most common configuration is four database copies in four datacenters; however, some regions have fewer datacenters (databases are replicated to three datacenters in India, and two datacenters in Australia and Japan).</span></span> <span data-ttu-id="b0035-150">Aber in allen Fällen verfügt jede Postfachdatenbank über vier Kopien, die über mehrere Rechenzentren verteilt sind, wodurch sichergestellt wird, dass Postfachdaten vor Software-, Hardware- und sogar Rechenzentrumsfehlern geschützt sind.</span><span class="sxs-lookup"><span data-stu-id="b0035-150">But in all cases, every mailbox database has four copies that are distributed across multiple datacenters, thereby ensuring that mailbox data is protected from software, hardware, and even datacenter failures.</span></span> 

<span data-ttu-id="b0035-151">Von diesen vier Kopien sind drei als hoch verfügbar konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="b0035-151">Out of these four copies, three of them are configured as highly available.</span></span> <span data-ttu-id="b0035-152">Die vierte Kopie ist als [verzögerte Datenbankkopie](/Exchange/high-availability/manage-ha/activate-lagged-db-copies)konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="b0035-152">The fourth copy is configured as a [lagged database copy](/Exchange/high-availability/manage-ha/activate-lagged-db-copies).</span></span> <span data-ttu-id="b0035-153">Die verzögerte Datenbankkopie ist nicht für die wiederherstellung einzelner Postfächer oder Postfachelemente vorgesehen.</span><span class="sxs-lookup"><span data-stu-id="b0035-153">The lagged database copy is not intended for individual mailbox recovery or mailbox item recovery.</span></span> <span data-ttu-id="b0035-154">Der Zweck besteht darin, einen Wiederherstellungsmechanismus für das selten auftretende systemweite, schwerwiegende logische Beschädigungsereignis bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="b0035-154">Its purpose is to provide a recovery mechanism for the rare event of system-wide, catastrophic logical corruption.</span></span> 

<span data-ttu-id="b0035-155">Verzögerte Datenbankkopien in Exchange Online werden mit einer Verzögerung von sieben Tagen bei der Wiedergabe der Protokolldatei konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="b0035-155">Lagged database copies in Exchange Online are configured with a seven-day log file replay lag time.</span></span> <span data-ttu-id="b0035-156">Darüber hinaus ist die Exchange Replay Lag Manager aktiviert, um dynamische Protokolldateiwiedergaben für verzögerte Kopien bereitzustellen, damit verzögerte Datenbankkopien sich selbst reparieren und das Wachstum von Protokolldateien verwalten können.</span><span class="sxs-lookup"><span data-stu-id="b0035-156">In addition, the Exchange Replay Lag Manager is enabled to provide dynamic log file play down for lagged copies to allow lagged database copies to self-repair and manage log file growth.</span></span> <span data-ttu-id="b0035-157">Obwohl verzögerte Datenbankkopien in Exchange Online verwendet werden, ist es wichtig zu wissen, dass es sich nicht um eine garantierte Point-in-Time-Sicherung handelt.</span><span class="sxs-lookup"><span data-stu-id="b0035-157">Although lagged database copies are used in Exchange Online, it is important to understand that they are not a guaranteed point-in-time backup.</span></span> <span data-ttu-id="b0035-158">Verzögerte Datenbankkopien in Exchange Online weisen einen Verfügbarkeitsschwellenwert auf, in der Regel ca. 90 %, aufgrund von Zeiträumen, in denen der Datenträger mit einer verzögerten Kopie aufgrund eines Datenträgerfehlers verloren geht, die verzögerte Kopie zu einer hoch verfügbaren Kopie wird (aufgrund der automatischen Wiedergabe) sowie der Zeiträume, in denen die verzögerte Datenbankkopie die Protokollwiederholungswarteschlange neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="b0035-158">Lagged database copies in Exchange Online have an availability threshold, typically around 90%, due to periods where the disk containing a lagged copy is lost due to disk failure, the lagged copy becoming a highly available copy (due to automatic play down), as well as the periods where the lagged database copy is rebuilding the log replay queue.</span></span> 

## <a name="transport-resilience"></a><span data-ttu-id="b0035-159">Transportresilienz</span><span class="sxs-lookup"><span data-stu-id="b0035-159">Transport Resilience</span></span> 
<span data-ttu-id="b0035-160">Exchange Online umfasst zwei primäre Transportresilienzfeatures: Schattenredundanz und Sicherheitsnetz.</span><span class="sxs-lookup"><span data-stu-id="b0035-160">Exchange Online includes two primary transport resilience features: Shadow Redundancy and Safety Net.</span></span> <span data-ttu-id="b0035-161">Schattenredundanz behält eine redundante Kopie einer Nachricht bei, während sie sich während der Übertragung befindet.</span><span class="sxs-lookup"><span data-stu-id="b0035-161">Shadow Redundancy keeps a redundant copy of a message while it is in transit.</span></span> <span data-ttu-id="b0035-162">Safety Net behält eine redundante Kopie einer Nachricht bei, nachdem die Nachricht erfolgreich übermittelt wurde.</span><span class="sxs-lookup"><span data-stu-id="b0035-162">Safety Net keeps a redundant copy of a message after the message is successfully delivered.</span></span> 

<span data-ttu-id="b0035-163">Bei Der Schattenredundanz erstellt jeder Exchange Online Transportserver eine Kopie jeder empfangenen Nachricht, bevor bestätigt wird, dass die Nachricht erfolgreich an den sendenden Server empfangen wurde.</span><span class="sxs-lookup"><span data-stu-id="b0035-163">With Shadow Redundancy, each Exchange Online transport server makes a copy of each message it receives before it acknowledges successfully receiving the message to the sending server.</span></span> <span data-ttu-id="b0035-164">Dadurch werden alle Nachrichten in der Transportpipeline während der Übertragung redundant.</span><span class="sxs-lookup"><span data-stu-id="b0035-164">This makes all messages in the transport pipeline redundant while in transit.</span></span> <span data-ttu-id="b0035-165">Wenn Exchange Online feststellt, dass die ursprüngliche Nachricht während der Übertragung verloren gegangen ist, wird eine redundante Kopie der Nachricht erneut zugestellt.</span><span class="sxs-lookup"><span data-stu-id="b0035-165">If Exchange Online determines the original message was lost in transit, a redundant copy of the message is redelivered.</span></span> 

<span data-ttu-id="b0035-166">Safety Net ist eine Transportwarteschlange, die dem Transportdienst auf einem Postfachserver zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="b0035-166">Safety Net is a transport queue that is associated with the Transport service on a Mailbox server.</span></span> <span data-ttu-id="b0035-167">In dieser Warteschlange werden Kopien von Nachrichten gespeichert, die vom Server erfolgreich verarbeitet wurden.</span><span class="sxs-lookup"><span data-stu-id="b0035-167">This queue stores copies of messages that were successfully processed by the server.</span></span> <span data-ttu-id="b0035-168">Wenn eine Postfachdatenbank oder ein Serverfehler die Aktivierung einer veralteten Kopie der Postfachdatenbank erfordert, werden Nachrichten in der Safety Net-Warteschlange automatisch an die neue aktive Kopie der Postfachdatenbank übermittelt.</span><span class="sxs-lookup"><span data-stu-id="b0035-168">When a mailbox database or server failure requires activating an out-of-date copy of the mailbox database, messages in the Safety Net queue are automatically resubmitted to the new active copy of the mailbox database.</span></span> <span data-ttu-id="b0035-169">Das Sicherheitsnetz ist ebenfalls redundant, wodurch der Transport als einzelner Fehlerpunkt eliminiert wird.</span><span class="sxs-lookup"><span data-stu-id="b0035-169">Safety Net is also redundant, thereby eliminating transport as a single point of failure.</span></span> <span data-ttu-id="b0035-170">Es verwendet das Konzept eines primären Sicherheitsnetzes und eines Schattensicherheitsnetzes. Wenn das primäre Sicherheitsnetz mehr als 12 Stunden nicht verfügbar ist, werden anforderungen erneut gesendet und Nachrichten aus dem Shadow Safety Net erneut übermittelt.</span><span class="sxs-lookup"><span data-stu-id="b0035-170">It uses the concept of a Primary Safety Net and a Shadow Safety Net wherein if the Primary Safety Net is unavailable for more than 12 hours, resubmit requests become shadow resubmit requests, and messages are redelivered from the Shadow Safety Net.</span></span>

<span data-ttu-id="b0035-171">Erneute Übermittlungen von Nachrichten aus dem Sicherheitsnetz werden automatisch von der Active Manager-Komponente des Microsoft Exchange Replikationsdiensts initiiert, der DAGs und Postfachdatenbankkopien verwaltet.</span><span class="sxs-lookup"><span data-stu-id="b0035-171">Message resubmissions from Safety Net are automatically initiated by the Active Manager component of the Microsoft Exchange Replication service that manages DAGs and mailbox database copies.</span></span> <span data-ttu-id="b0035-172">Es sind keine manuellen Aktionen erforderlich, um Nachrichten aus dem Safety Net erneut zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="b0035-172">No manual actions are required to resubmit messages from Safety Net.</span></span> 

## <a name="single-bit-correction"></a><span data-ttu-id="b0035-173">Einzelbitkorrektur</span><span class="sxs-lookup"><span data-stu-id="b0035-173">Single Bit Correction</span></span> 
<span data-ttu-id="b0035-174">ESE enthält einen Mechanismus zum Erkennen und Beheben von Single-Bit-CRC-Fehlern (auch als Single-Bit-Flips bezeichnet), die das Ergebnis von Hardwarefehlern sind (und daher physische Beschädigungen darstellen).</span><span class="sxs-lookup"><span data-stu-id="b0035-174">ESE includes a mechanism to detect and resolve single-bit CRC errors (also known as single-bit flips) that are the result of hardware errors (and as such they represent physical corruption).</span></span> <span data-ttu-id="b0035-175">Wenn diese Fehler auftreten, korrigiert ESE diese automatisch und protokolliert ein Ereignis im Ereignisprotokoll.</span><span class="sxs-lookup"><span data-stu-id="b0035-175">When these errors occur, ESE automatically corrects them and logs an event in the event log.</span></span> 

## <a name="online-database-scanning"></a><span data-ttu-id="b0035-176">Onlinedatenbanküberprüfung</span><span class="sxs-lookup"><span data-stu-id="b0035-176">Online Database Scanning</span></span> 
<span data-ttu-id="b0035-177">Die Onlinedatenbanküberprüfung (auch als *Datenbanküberprüfungs-Summe bezeichnet)* ist der Vorgang, bei dem ein ESE eine Datenbankkonsistenzprüfung verwendet, um jede Seite zu lesen und auf Seitenbeschädigung zu prüfen.</span><span class="sxs-lookup"><span data-stu-id="b0035-177">Online database scanning (also known as *database check summing*) is the process where an ESE uses a database consistency checker to read each page and check for page corruption.</span></span> <span data-ttu-id="b0035-178">Der Hauptzweck besteht darin, physische Beschädigungen und verloren gegangene Leerungen zu erkennen, die möglicherweise nicht von Transaktionvorgängen erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="b0035-178">The primary purpose is to detect physical corruption and lost flushes that may not be getting detected by transactional operations.</span></span> <span data-ttu-id="b0035-179">Die Datenbanküberprüfung führt auch Absturzvorgänge nach dem Speicher aus.</span><span class="sxs-lookup"><span data-stu-id="b0035-179">Database scanning also performs post-store crash operations.</span></span> <span data-ttu-id="b0035-180">Aufgrund von Abstürzen kann Speicherplatz verloren gehen, und die Onlinedatenbanküberprüfung findet verlorenen Speicherplatz und stellt diesen wieder her.</span><span class="sxs-lookup"><span data-stu-id="b0035-180">Space can be leaked due to crashes, and online database scanning finds and recovers lost space.</span></span> <span data-ttu-id="b0035-181">Das System wurde mit der Erwartung entworfen, dass jede Datenbank einmal alle sieben Tage vollständig gescannt wird.</span><span class="sxs-lookup"><span data-stu-id="b0035-181">The system is designed with the expectation that every database is fully scanned once every seven days.</span></span> 

## <a name="lost-flush-detection"></a><span data-ttu-id="b0035-182">Erkennung von verlorenen Leerungen</span><span class="sxs-lookup"><span data-stu-id="b0035-182">Lost Flush Detection</span></span> 
<span data-ttu-id="b0035-183">Eine verloren gegangene Leerung tritt auf, wenn ein Datenbankschreibvorgang, den das Datenträgersubsystem/Betriebssystem, das als abgeschlossen zurückgegeben wird, nicht tatsächlich auf den Datenträger geschrieben wurde oder an der falschen Position geschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="b0035-183">A lost flush occurs when a database write operation that the disk subsystem/operating system returned as completed did not actually get written to disk, or was written in the wrong location.</span></span> <span data-ttu-id="b0035-184">Verlorene Leerungsvorfälle können zu einer logischen Beschädigung der Datenbank führen. Um zu verhindern, dass verlorene Leerungen zu verlorenen Daten führen, enthält ESE einen Mechanismus zur Erkennung verlorener Daten.</span><span class="sxs-lookup"><span data-stu-id="b0035-184">Lost flush incidents can result in database logical corruption, so to prevent lost flushes from resulting in lost data, ESE includes a lost flush detection mechanism.</span></span> <span data-ttu-id="b0035-185">Wenn Datenbankseiten in passive Kopien geschrieben werden, wird eine Überprüfung auf verloren gegangene Leerungen der aktiven Kopie durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="b0035-185">As database pages are written to passive copies, a check is performed for lost flushes on the active copy.</span></span> <span data-ttu-id="b0035-186">Wenn eine verloren gegangene Leerung erkannt wird, kann ESE den Prozess mithilfe eines Seitenpatchingprozesses reparieren.</span><span class="sxs-lookup"><span data-stu-id="b0035-186">If a lost flush is detected, ESE can repair the process using a page patching process.</span></span> 

## <a name="single-page-restore"></a><span data-ttu-id="b0035-187">Wiederherstellung auf einer Seite</span><span class="sxs-lookup"><span data-stu-id="b0035-187">Single Page Restore</span></span> 
<span data-ttu-id="b0035-188">Die Wiederherstellung einzelner Seiten, auch als *Seitenpatching* bezeichnet, ist ein automatischer Prozess, bei dem beschädigte Datenbankseiten durch fehlerfreie Kopien aus einem fehlerfreien Replikat ersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="b0035-188">Single page restore, also known as *page patching*, is an automatic process where corrupt database pages are replaced by healthy copies from a healthy replica.</span></span> <span data-ttu-id="b0035-189">Der Reparaturvorgang für eine beschädigte Seite hängt davon ab, ob die Datenbankkopie aktiv oder passiv ist.</span><span class="sxs-lookup"><span data-stu-id="b0035-189">The repair process for a corrupt page depends on whether the database copy is active or passive.</span></span> <span data-ttu-id="b0035-190">Wenn eine aktive Datenbankkopie auf eine beschädigte Seite trifft, kann sie eine Seite aus einem ihrer Replikate kopieren, vorausgesetzt, die kopierte Seite ist auf dem neuesten Stand.</span><span class="sxs-lookup"><span data-stu-id="b0035-190">When an active database copy encounters a corrupted page, it can copy a page from one of its replicas, provided the page it copies is up to date.</span></span> <span data-ttu-id="b0035-191">Dieser Vorgang wird erreicht, indem eine Anforderung für die Seite in den Protokolldatenstrom eingefügt wird, der die Basis der Postfachdatenbankreplikation ist.</span><span class="sxs-lookup"><span data-stu-id="b0035-191">This process is accomplished by putting a request for the page into the log stream, which is the basis of mailbox database replication.</span></span> <span data-ttu-id="b0035-192">Sobald ein Replikat auf die Seitenanforderung trifft, antwortet es, indem es eine Kopie der Seite an die anfordernde Datenbankkopie sendet.</span><span class="sxs-lookup"><span data-stu-id="b0035-192">As soon as a replica encounters the page request, it responds by sending a copy of the page to the requesting database copy.</span></span> <span data-ttu-id="b0035-193">Die Wiederherstellung auf einer einzelnen Seite stellt auch einen asynchronen Kommunikationsmechanismus bereit, mit dem aktive Benutzer eine Seite von Replikaten anfordern können, auch wenn die Replikate derzeit offline sind.</span><span class="sxs-lookup"><span data-stu-id="b0035-193">Single page restore also provides an asynchronous communication mechanism for the active to request a page from replicas, even if the replicas are currently offline.</span></span> 

<span data-ttu-id="b0035-194">Im Falle einer Beschädigung in einer passiven Datenbankkopie, einschließlich einer verzögerten Datenbankkopie, da sich diese Kopien immer hinter ihrer aktiven Kopie befinden, ist es immer sicher, jede Seite aus der aktiven Kopie in eine passive Kopie zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="b0035-194">In case of corruption in a passive database copy, including a lagged database copy, because these copies are always behind their active copy, it is always safe to copy any page from the active copy to a passive copy.</span></span> <span data-ttu-id="b0035-195">Eine passive Datenbankkopie ist von Natur aus hoch verfügbar. Daher wird während des Seitenpatchings die Protokollwiederholung angehalten, aber das Kopieren des Protokolls wird fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="b0035-195">A passive database copy is by nature highly available, so during the page patching process, log replaying is suspended, but log copying continues.</span></span> <span data-ttu-id="b0035-196">Die passive Datenbankkopie ruft eine Kopie der beschädigten Seite aus der aktiven Kopie ab, wartet, bis die Protokolldatei, die die maximal erforderliche Protokollgenerierungsanforderung erfüllt, kopiert und überprüft wird, und patchet dann die beschädigte Seite.</span><span class="sxs-lookup"><span data-stu-id="b0035-196">The passive database copy retrieves a copy of the corrupted page from the active copy, waits until the log file that meets the maximum required log generation requirement is copied and inspected, and then patches the corrupt page.</span></span> <span data-ttu-id="b0035-197">Nachdem die Seite gepatcht wurde, wird die Wiedergabe des Protokolls fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="b0035-197">Once the page has been patched, log replay resumes.</span></span> <span data-ttu-id="b0035-198">Der Vorgang ist für die verzögerte Datenbankkopie identisch, mit der Ausnahme, dass die verzögerte Datenbank zuerst alle Protokolldateien wiedergibt, die erforderlich sind, um einen patchbaren Zustand zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="b0035-198">The process is the same for the lagged database copy, except that the lagged database first replays all log files that are necessary to achieve a patchable state.</span></span> 

## <a name="mailbox-replication-service"></a><span data-ttu-id="b0035-199">Postfachreplikationsdienst</span><span class="sxs-lookup"><span data-stu-id="b0035-199">Mailbox Replication Service</span></span> 
<span data-ttu-id="b0035-200">Das Verschieben von Postfächern ist ein wichtiger Bestandteil der Verwaltung eines umfangreichen E-Mail-Diensts.</span><span class="sxs-lookup"><span data-stu-id="b0035-200">Moving mailboxes is a key part of managing a large-scale email service.</span></span> <span data-ttu-id="b0035-201">Es gibt immer aktualisierte Technologien und Hardware- und Versionsupgrades, sodass ein robustes, gedrosseltes System, das es unseren Technikern ermöglicht, diese Arbeit auszuführen, während das Postfach für Benutzer transparent bleibt (indem sie sicherstellen, dass sie während des gesamten Prozesses online bleiben) wichtig ist und sicherstellen, dass der Prozess ordnungsgemäß skaliert wird, wenn Postfächer größer und größer werden.</span><span class="sxs-lookup"><span data-stu-id="b0035-201">There are always updated technologies and hardware and version upgrades to deal with, so having a robust, throttled system that enables our engineers to accomplish this work while keeping the mailbox moves transparent to users (by making sure they stay online throughout the process) is key and making sure that the process scales up gracefully as mailboxes get larger and larger.</span></span> 

<span data-ttu-id="b0035-202">Der Exchange Mailbox Replication Service (MRS) ist für das Verschieben von Postfächern zwischen Datenbanken verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="b0035-202">The Exchange Mailbox Replication Service (MRS) is responsible for moving mailboxes between databases.</span></span> <span data-ttu-id="b0035-203">Während der Verschiebung führt MRS eine Konsistenzüberprüfung für alle Elemente innerhalb des Postfachs durch.</span><span class="sxs-lookup"><span data-stu-id="b0035-203">During the move, MRS performs a consistency check on all items within the mailbox.</span></span> <span data-ttu-id="b0035-204">Wenn ein Konsistenzproblem gefunden wird, korrigiert MRS entweder das Problem oder überspringt die beschädigten Elemente, wodurch die Beschädigung aus dem Postfach entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="b0035-204">If a consistency issue is found, MRS will either correct the problem, or skip the corrupted items, thereby removing the corruption from the mailbox.</span></span> 

<span data-ttu-id="b0035-205">Da MRS eine Komponente von Exchange Online ist, können wir Änderungen am Code vornehmen, um neue Formen von Beschädigungen zu beheben, die in Zukunft erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="b0035-205">Because MRS is a component of Exchange Online, we can make changes in its code to address new forms of corruption that are detected in the future.</span></span> <span data-ttu-id="b0035-206">Wenn wir beispielsweise ein Konsistenzproblem erkennen, das MRS nicht beheben kann, können wir die Beschädigung analysieren, den MRS-Code ändern und die Inkonsistenz korrigieren (wenn wir wissen, wie dies funktioniert).</span><span class="sxs-lookup"><span data-stu-id="b0035-206">For example, if we detect a consistency issue that MRS is not able to fix, we can analyze the corruption, change the MRS code and correct the inconsistency (if we understand how to).</span></span> 

## <a name="log-file-checks"></a><span data-ttu-id="b0035-207">Protokolldateiüberprüfungen</span><span class="sxs-lookup"><span data-stu-id="b0035-207">Log File Checks</span></span> 
<span data-ttu-id="b0035-208">Alle Transaktionsprotokolldateien, die von einer Exchange Datenbank generiert werden, werden mehreren Konsistenzprüfungen unterzogen.</span><span class="sxs-lookup"><span data-stu-id="b0035-208">All transaction log files generated by an Exchange database undergo several forms of consistency checks.</span></span> <span data-ttu-id="b0035-209">Wenn eine Protokolldatei erstellt wird, wird zunächst ein Bitmuster geschrieben, und dann wird eine Reihe von Protokollschreiben ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="b0035-209">When a log file is created, the first thing done is a bit pattern is written and then a series of log writes is performed.</span></span> <span data-ttu-id="b0035-210">Diese Struktur ermöglicht es Exchange Online, eine Reihe von Prüfungen (Leerungsverlust, CRC und andere Überprüfungen) auszuführen, um jede Protokolldatei beim Schreiben und erneut bei der Replikation zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="b0035-210">This structure enables Exchange Online to execute a series of checks (lost flush, CRC, and other checks) to validate each log file as it is written, and again as it is replicated.</span></span> 

## <a name="deployment-on-resilient-file-system"></a><span data-ttu-id="b0035-211">Bereitstellung im ausfallsicheren Dateisystem</span><span class="sxs-lookup"><span data-stu-id="b0035-211">Deployment on Resilient File System</span></span> 
<span data-ttu-id="b0035-212">Um zu verhindern, dass auf Dateisystemebene Beschädigungen auftreten, wird Exchange Online auf ReFS-Partitionen (Resilient File System) bereitgestellt, um verbesserte Wiederherstellungsfunktionen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="b0035-212">To help prevent corruption from occurring at the file system level, Exchange Online is being deployed on Resilient File System (ReFS) partitions to provide improved recovery capabilities.</span></span> <span data-ttu-id="b0035-213">ReFS ist ein Dateisystem in Windows Server 2012 und höher, das stabiler gegen Datenbeschädigungen ist und dadurch die Datenverfügbarkeit und -integrität maximiert.</span><span class="sxs-lookup"><span data-stu-id="b0035-213">ReFS is a file system in Windows Server 2012 and later that is designed to be more resilient against data corruption thereby maximizing data availability and integrity.</span></span> <span data-ttu-id="b0035-214">Insbesondere bietet ReFS Verbesserungen in der Art und Weise, wie Metadaten aktualisiert werden, was einen besseren Schutz für Daten bietet und Datenbeschädigungsfälle reduziert.</span><span class="sxs-lookup"><span data-stu-id="b0035-214">Specifically, ReFS brings improvements in the way that metadata is updated which offers better protection for data and reduces data corruption cases.</span></span> <span data-ttu-id="b0035-215">Außerdem werden Prüfsummen verwendet, um die Integrität von Dateidaten und Metadaten zu überprüfen, um sicherzustellen, dass die Datenbeschädigung leicht gefunden und repariert werden kann.</span><span class="sxs-lookup"><span data-stu-id="b0035-215">It also uses checksums to verify the integrity of file data and metadata ensuring that data corruption is easily found and repaired.</span></span> 

<span data-ttu-id="b0035-216">Exchange Online nutzt mehrere ReFS-Vorteile:</span><span class="sxs-lookup"><span data-stu-id="b0035-216">Exchange Online takes advantage of several ReFS benefits:</span></span> 
- <span data-ttu-id="b0035-217">Mehr Resilienz in der Datenintegrität bedeutet weniger Datenbeschädigungsvorfälle.</span><span class="sxs-lookup"><span data-stu-id="b0035-217">More resiliency in data integrity means fewer data corruption incidents.</span></span> <span data-ttu-id="b0035-218">Die Reduzierung der Anzahl von Beschädigungsvorfällen bedeutet weniger unnötige Erneutes Senden von Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="b0035-218">Reducing the number of corruption incidents means fewer unnecessary database reseeds.</span></span> 
- <span data-ttu-id="b0035-219">Prüfsumme, die auf Metadaten ausgeführt wird und die Erkennung von Beschädigungsfällen früher und deterministischer ermöglicht, sodass wir die Beschädigung von Kundendaten beheben können, bevor graue Fehler auf Datenvolumes auftreten.</span><span class="sxs-lookup"><span data-stu-id="b0035-219">Checksum running on metadata enabling detections of corruption cases sooner and more deterministically, allowing us to fix customer data corruption before grey failures occur on data volumes.</span></span>
- <span data-ttu-id="b0035-220">Gut geeignet für große Datasets – Petabyte und größer – ohne Leistungseinbußen</span><span class="sxs-lookup"><span data-stu-id="b0035-220">Designed to work well with large data sets—petabytes and larger—without performance impact</span></span>
- <span data-ttu-id="b0035-221">Unterstützung für andere Features, die von Exchange Online verwendet werden, z. B. BitLocker-Verschlüsselung.</span><span class="sxs-lookup"><span data-stu-id="b0035-221">Support for other features used by Exchange Online, such as BitLocker encryption.</span></span> 

<span data-ttu-id="b0035-222">Exchange Online profitieren auch von anderen ReFS-Features:</span><span class="sxs-lookup"><span data-stu-id="b0035-222">Exchange Online also benefits from other ReFS features:</span></span> 
- <span data-ttu-id="b0035-223">**Integrität (Integrität Streams)** – ReFS speichert Daten so, dass sie vor vielen der häufigsten Fehler geschützt werden, die normalerweise zu Datenverlusten führen können.</span><span class="sxs-lookup"><span data-stu-id="b0035-223">**Integrity (Integrity Streams)** - ReFS stores data in a way that protects it from many of the common errors that can normally cause data loss.</span></span> <span data-ttu-id="b0035-224">Microsoft 365 Die Suche verwendet Integrity Streams, um bei der frühzeitigen Erkennung von Datenträgerbeschädigungen und Prüfsummen von Dateiinhalten zu helfen.</span><span class="sxs-lookup"><span data-stu-id="b0035-224">Microsoft 365 Search uses Integrity Streams to help with early disk corruption detection and checksums of file content.</span></span> <span data-ttu-id="b0035-225">Das Feature reduziert auch Beschädigungsvorfälle, die durch "Torn Writes" verursacht werden (wenn ein Schreibvorgang aufgrund von Stromausfällen nicht abgeschlossen wird usw.).</span><span class="sxs-lookup"><span data-stu-id="b0035-225">The feature also reduces corruption incidents caused by 'Torn Writes” (when a write operation does not complete due to power outages, etc.).</span></span> 
- <span data-ttu-id="b0035-226">**Verfügbarkeit (Salvage)** – ReFS priorisiert die Verfügbarkeit von Daten.</span><span class="sxs-lookup"><span data-stu-id="b0035-226">**Availability (Salvage)** - ReFS prioritizes the availability of data.</span></span> <span data-ttu-id="b0035-227">In der Vergangenheit waren Dateisysteme häufig anfällig für Datenbeschädigungen, bei denen das System zur Reparatur offline geschaltet werden musste.</span><span class="sxs-lookup"><span data-stu-id="b0035-227">Historically, file systems were often susceptible to data corruption that would require the system to be taken offline for repair.</span></span> <span data-ttu-id="b0035-228">Wenngleich es selten zu einer Beschädigung kommt, implementiert ReFS die Wiederherstellung, ein Feature, das die beschädigten Daten aus dem Namespace auf einem Livevolume entfernt und sicherstellt, dass gute Daten nicht von nicht reparierbaren beschädigten Daten beeinträchtigt werden.</span><span class="sxs-lookup"><span data-stu-id="b0035-228">Although rare, if corruption does occur, ReFS implements salvage, a feature that removes the corrupt data from the namespace on a live volume and ensures that good data is not adversely affected by non-repairable corrupt data.</span></span> <span data-ttu-id="b0035-229">Das Anwenden des Salvage-Features und das Isolieren von Datenbeschädigungen auf Exchange Online Datenbankvolumes bedeutet, dass nicht betroffene Datenbanken zwischen dem Zeitpunkt der Beschädigung und Reparatur auf einem beschädigten Volume fehlerfrei bleiben können.</span><span class="sxs-lookup"><span data-stu-id="b0035-229">Applying the Salvage feature and isolating data corruption to Exchange Online database volumes means that we can keep non-affected databases on a corrupted volume healthy between the time of corruption and repair action.</span></span> <span data-ttu-id="b0035-230">Diese Struktur erhöht die Verfügbarkeit von Datenbanken, die normalerweise von solchen Datenträgerbeschädigungsproblemen betroffen wären.</span><span class="sxs-lookup"><span data-stu-id="b0035-230">This structure increases the availability of databases that would normally be affected by such disk corruption issues.</span></span> 
